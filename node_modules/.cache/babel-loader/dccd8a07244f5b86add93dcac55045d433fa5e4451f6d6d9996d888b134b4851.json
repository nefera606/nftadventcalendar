{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MetaMaskProvider = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar React = __importStar(require(\"react\"));\nvar metamask_context_1 = require(\"./metamask-context\");\nvar reducer_1 = require(\"./reducer\");\nvar useSafeDispatch_1 = require(\"./utils/useSafeDispatch\");\n// MetaMask - RPC Error: Request of type 'wallet_requestPermissions' already pending for origin [origin]. Please wait.\nvar ERROR_CODE_REQUEST_PENDING = -32002;\nfunction synchronize(dispatch) {\n  return __awaiter(this, void 0, void 0, function () {\n    var ethereum, isMetaMaskAvailable, chainId, accessibleAccounts;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          ethereum = window.ethereum;\n          isMetaMaskAvailable = Boolean(ethereum) && ethereum.isMetaMask;\n          if (!isMetaMaskAvailable) {\n            dispatch({\n              type: \"metaMaskUnavailable\"\n            });\n            return [2 /*return*/];\n          }\n\n          return [4 /*yield*/, ethereum.request({\n            method: \"eth_chainId\"\n          })];\n        case 1:\n          chainId = _a.sent();\n          return [4 /*yield*/, ethereum.request({\n            method: \"eth_accounts\"\n          })];\n        case 2:\n          accessibleAccounts = _a.sent();\n          if (accessibleAccounts.length === 0) {\n            dispatch({\n              type: \"metaMaskNotConnected\",\n              payload: {\n                chainId: chainId\n              }\n            });\n          } else {\n            dispatch({\n              type: \"metaMaskConnected\",\n              payload: {\n                accounts: accessibleAccounts,\n                chainId: chainId\n              }\n            });\n          }\n          return [2 /*return*/];\n      }\n    });\n  });\n}\n\nfunction subsribeToAccountsChanged(dispatch) {\n  var ethereum = window.ethereum;\n  var onAccountsChanged = function (accounts) {\n    return dispatch({\n      type: \"metaMaskAccountsChanged\",\n      payload: accounts\n    });\n  };\n  ethereum.on(\"accountsChanged\", onAccountsChanged);\n  return function () {\n    ethereum.removeListener(\"accountsChanged\", onAccountsChanged);\n  };\n}\nfunction subscribeToChainChanged(dispatch) {\n  var ethereum = window.ethereum;\n  var onChainChanged = function (chainId) {\n    return dispatch({\n      type: \"metaMaskChainChanged\",\n      payload: chainId\n    });\n  };\n  ethereum.on(\"chainChanged\", onChainChanged);\n  return function () {\n    ethereum.removeListener(\"chainChanged\", onChainChanged);\n  };\n}\nfunction requestAccounts(dispatch) {\n  var _this = this;\n  var ethereum = window.ethereum;\n  dispatch({\n    type: \"metaMaskConnecting\"\n  });\n  /**\n   * Note about the pattern\n   * Instead of only relying on the RPC Request response, the resolve of the promise may happen based from a polling\n   * using the eth_accounts rpc endpoint.\n   * The reason for this change is in order to handle pending connection request on MetaMask side.\n   * See https://github.com/VGLoic/metamask-react/issues/13 for the full discussion.\n   * Any improvements on MetaMask side on this behaviour that could allow to go back to the previous, simple and safer, pattern\n   * should trigger the update of this code.\n   */\n  return new Promise(function (resolve, reject) {\n    var intervalId = setInterval(function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        var accounts, chainId;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4 /*yield*/, ethereum.request({\n                method: \"eth_accounts\"\n              })];\n            case 1:\n              accounts = _a.sent();\n              if (accounts.length === 0) return [2 /*return*/];\n              clearInterval(intervalId);\n              return [4 /*yield*/, ethereum.request({\n                method: \"eth_chainId\"\n              })];\n            case 2:\n              chainId = _a.sent();\n              dispatch({\n                type: \"metaMaskConnected\",\n                payload: {\n                  accounts: accounts,\n                  chainId: chainId\n                }\n              });\n              resolve(accounts);\n              return [2 /*return*/];\n          }\n        });\n      });\n    }, 200);\n    ethereum.request({\n      method: \"eth_requestAccounts\"\n    }).then(function (accounts) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var chainId;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              clearInterval(intervalId);\n              return [4 /*yield*/, ethereum.request({\n                method: \"eth_chainId\"\n              })];\n            case 1:\n              chainId = _a.sent();\n              dispatch({\n                type: \"metaMaskConnected\",\n                payload: {\n                  accounts: accounts,\n                  chainId: chainId\n                }\n              });\n              resolve(accounts);\n              return [2 /*return*/];\n          }\n        });\n      });\n    }).catch(function (err) {\n      if (\"code\" in err) {\n        if (err.code === ERROR_CODE_REQUEST_PENDING) return;\n      }\n      dispatch({\n        type: \"metaMaskPermissionRejected\"\n      });\n      clearInterval(intervalId);\n      reject(err);\n    });\n  });\n}\nfunction addEthereumChain(parameters) {\n  return __awaiter(this, void 0, void 0, function () {\n    var ethereum, err_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          ethereum = window.ethereum;\n          _a.label = 1;\n        case 1:\n          _a.trys.push([1, 3,, 4]);\n          return [4 /*yield*/, ethereum.request({\n            method: \"wallet_addEthereumChain\",\n            params: [parameters]\n          })];\n        case 2:\n          _a.sent();\n          return [3 /*break*/, 4];\n        case 3:\n          err_1 = _a.sent();\n          if (\"code\" in err_1) {\n            if (err_1.code === ERROR_CODE_REQUEST_PENDING) return [2 /*return*/];\n          }\n\n          throw err_1;\n        case 4:\n          return [2 /*return*/];\n      }\n    });\n  });\n}\n\nfunction switchEthereumChain(chainId) {\n  return __awaiter(this, void 0, void 0, function () {\n    var ethereum, err_2;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          ethereum = window.ethereum;\n          _a.label = 1;\n        case 1:\n          _a.trys.push([1, 3,, 4]);\n          return [4 /*yield*/, ethereum.request({\n            method: \"wallet_switchEthereumChain\",\n            params: [{\n              chainId: chainId\n            }]\n          })];\n        case 2:\n          _a.sent();\n          return [3 /*break*/, 4];\n        case 3:\n          err_2 = _a.sent();\n          if (\"code\" in err_2) {\n            if (err_2.code === ERROR_CODE_REQUEST_PENDING) return [2 /*return*/];\n          }\n\n          throw err_2;\n        case 4:\n          return [2 /*return*/];\n      }\n    });\n  });\n}\n\nvar initialState = {\n  status: \"initializing\",\n  account: null,\n  chainId: null\n};\nfunction MetaMaskProvider(props) {\n  var _a = React.useReducer(reducer_1.reducer, initialState),\n    state = _a[0],\n    unsafeDispatch = _a[1];\n  var dispatch = useSafeDispatch_1.useSafeDispatch(unsafeDispatch);\n  var status = state.status;\n  var isInitializing = status === \"initializing\";\n  React.useEffect(function () {\n    if (isInitializing) {\n      synchronize(dispatch);\n    }\n  }, [dispatch, isInitializing]);\n  var isConnected = status === \"connected\";\n  React.useEffect(function () {\n    if (!isConnected) return function () {};\n    var unsubscribe = subsribeToAccountsChanged(dispatch);\n    return unsubscribe;\n  }, [dispatch, isConnected]);\n  var isAvailable = status !== \"unavailable\" && status !== \"initializing\";\n  React.useEffect(function () {\n    if (!isAvailable) return function () {};\n    var unsubscribe = subscribeToChainChanged(dispatch);\n    return unsubscribe;\n  }, [dispatch, isAvailable]);\n  var connect = React.useCallback(function () {\n    if (!isAvailable) {\n      console.warn(\"`enable` method has been called while MetaMask is not available or synchronising. Nothing will be done in this case.\");\n      return Promise.resolve([]);\n    }\n    return requestAccounts(dispatch);\n  }, [dispatch, isAvailable]);\n  var addChain = React.useCallback(function (parameters) {\n    if (!isAvailable) {\n      console.warn(\"`addChain` method has been called while MetaMask is not available or synchronising. Nothing will be done in this case.\");\n      return Promise.resolve();\n    }\n    return addEthereumChain(parameters);\n  }, [isAvailable]);\n  var switchChain = React.useCallback(function (chainId) {\n    if (!isAvailable) {\n      console.warn(\"`switchChain` method has been called while MetaMask is not available or synchronising. Nothing will be done in this case.\");\n      return Promise.resolve();\n    }\n    return switchEthereumChain(chainId);\n  }, [isAvailable]);\n  var value = React.useMemo(function () {\n    return __assign(__assign({}, state), {\n      connect: connect,\n      addChain: addChain,\n      switchChain: switchChain,\n      ethereum: isAvailable ? window.ethereum : null\n    });\n  }, [connect, addChain, switchChain, state, isAvailable]);\n  return jsx_runtime_1.jsx(metamask_context_1.MetamaskContext.Provider, __assign({\n    value: value\n  }, props), void 0);\n}\nexports.MetaMaskProvider = MetaMaskProvider;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","op","TypeError","pop","push","exports","MetaMaskProvider","jsx_runtime_1","require","React","metamask_context_1","reducer_1","useSafeDispatch_1","ERROR_CODE_REQUEST_PENDING","synchronize","dispatch","ethereum","isMetaMaskAvailable","chainId","accessibleAccounts","_a","window","Boolean","isMetaMask","type","request","method","payload","accounts","subsribeToAccountsChanged","onAccountsChanged","on","removeListener","subscribeToChainChanged","onChainChanged","requestAccounts","_this","intervalId","setInterval","clearInterval","catch","err","code","addEthereumChain","parameters","err_1","params","switchEthereumChain","err_2","initialState","status","account","props","useReducer","reducer","state","unsafeDispatch","useSafeDispatch","isInitializing","useEffect","isConnected","unsubscribe","isAvailable","connect","useCallback","console","warn","addChain","switchChain","useMemo","jsx","MetamaskContext","Provider"],"sources":["/home/rox/Projects/advient-nft/node_modules/metamask-react/lib/metamask-provider.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MetaMaskProvider = void 0;\nvar jsx_runtime_1 = require(\"react/jsx-runtime\");\nvar React = __importStar(require(\"react\"));\nvar metamask_context_1 = require(\"./metamask-context\");\nvar reducer_1 = require(\"./reducer\");\nvar useSafeDispatch_1 = require(\"./utils/useSafeDispatch\");\n// MetaMask - RPC Error: Request of type 'wallet_requestPermissions' already pending for origin [origin]. Please wait.\nvar ERROR_CODE_REQUEST_PENDING = -32002;\nfunction synchronize(dispatch) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ethereum, isMetaMaskAvailable, chainId, accessibleAccounts;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    ethereum = window.ethereum;\n                    isMetaMaskAvailable = Boolean(ethereum) && ethereum.isMetaMask;\n                    if (!isMetaMaskAvailable) {\n                        dispatch({ type: \"metaMaskUnavailable\" });\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, ethereum.request({\n                            method: \"eth_chainId\",\n                        })];\n                case 1:\n                    chainId = _a.sent();\n                    return [4 /*yield*/, ethereum.request({\n                            method: \"eth_accounts\",\n                        })];\n                case 2:\n                    accessibleAccounts = _a.sent();\n                    if (accessibleAccounts.length === 0) {\n                        dispatch({ type: \"metaMaskNotConnected\", payload: { chainId: chainId } });\n                    }\n                    else {\n                        dispatch({\n                            type: \"metaMaskConnected\",\n                            payload: { accounts: accessibleAccounts, chainId: chainId },\n                        });\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction subsribeToAccountsChanged(dispatch) {\n    var ethereum = window.ethereum;\n    var onAccountsChanged = function (accounts) {\n        return dispatch({ type: \"metaMaskAccountsChanged\", payload: accounts });\n    };\n    ethereum.on(\"accountsChanged\", onAccountsChanged);\n    return function () {\n        ethereum.removeListener(\"accountsChanged\", onAccountsChanged);\n    };\n}\nfunction subscribeToChainChanged(dispatch) {\n    var ethereum = window.ethereum;\n    var onChainChanged = function (chainId) {\n        return dispatch({ type: \"metaMaskChainChanged\", payload: chainId });\n    };\n    ethereum.on(\"chainChanged\", onChainChanged);\n    return function () {\n        ethereum.removeListener(\"chainChanged\", onChainChanged);\n    };\n}\nfunction requestAccounts(dispatch) {\n    var _this = this;\n    var ethereum = window.ethereum;\n    dispatch({ type: \"metaMaskConnecting\" });\n    /**\n     * Note about the pattern\n     * Instead of only relying on the RPC Request response, the resolve of the promise may happen based from a polling\n     * using the eth_accounts rpc endpoint.\n     * The reason for this change is in order to handle pending connection request on MetaMask side.\n     * See https://github.com/VGLoic/metamask-react/issues/13 for the full discussion.\n     * Any improvements on MetaMask side on this behaviour that could allow to go back to the previous, simple and safer, pattern\n     * should trigger the update of this code.\n     */\n    return new Promise(function (resolve, reject) {\n        var intervalId = setInterval(function () { return __awaiter(_this, void 0, void 0, function () {\n            var accounts, chainId;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, ethereum.request({\n                            method: \"eth_accounts\",\n                        })];\n                    case 1:\n                        accounts = _a.sent();\n                        if (accounts.length === 0)\n                            return [2 /*return*/];\n                        clearInterval(intervalId);\n                        return [4 /*yield*/, ethereum.request({\n                                method: \"eth_chainId\",\n                            })];\n                    case 2:\n                        chainId = _a.sent();\n                        dispatch({ type: \"metaMaskConnected\", payload: { accounts: accounts, chainId: chainId } });\n                        resolve(accounts);\n                        return [2 /*return*/];\n                }\n            });\n        }); }, 200);\n        ethereum\n            .request({\n            method: \"eth_requestAccounts\",\n        })\n            .then(function (accounts) { return __awaiter(_this, void 0, void 0, function () {\n            var chainId;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        clearInterval(intervalId);\n                        return [4 /*yield*/, ethereum.request({\n                                method: \"eth_chainId\",\n                            })];\n                    case 1:\n                        chainId = _a.sent();\n                        dispatch({ type: \"metaMaskConnected\", payload: { accounts: accounts, chainId: chainId } });\n                        resolve(accounts);\n                        return [2 /*return*/];\n                }\n            });\n        }); })\n            .catch(function (err) {\n            if (\"code\" in err) {\n                if (err.code === ERROR_CODE_REQUEST_PENDING)\n                    return;\n            }\n            dispatch({ type: \"metaMaskPermissionRejected\" });\n            clearInterval(intervalId);\n            reject(err);\n        });\n    });\n}\nfunction addEthereumChain(parameters) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ethereum, err_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    ethereum = window.ethereum;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, ethereum.request({\n                            method: \"wallet_addEthereumChain\",\n                            params: [parameters],\n                        })];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_1 = _a.sent();\n                    if (\"code\" in err_1) {\n                        if (err_1.code === ERROR_CODE_REQUEST_PENDING)\n                            return [2 /*return*/];\n                    }\n                    throw err_1;\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction switchEthereumChain(chainId) {\n    return __awaiter(this, void 0, void 0, function () {\n        var ethereum, err_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    ethereum = window.ethereum;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, ethereum.request({\n                            method: \"wallet_switchEthereumChain\",\n                            params: [{ chainId: chainId }],\n                        })];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_2 = _a.sent();\n                    if (\"code\" in err_2) {\n                        if (err_2.code === ERROR_CODE_REQUEST_PENDING)\n                            return [2 /*return*/];\n                    }\n                    throw err_2;\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nvar initialState = {\n    status: \"initializing\",\n    account: null,\n    chainId: null,\n};\nfunction MetaMaskProvider(props) {\n    var _a = React.useReducer(reducer_1.reducer, initialState), state = _a[0], unsafeDispatch = _a[1];\n    var dispatch = useSafeDispatch_1.useSafeDispatch(unsafeDispatch);\n    var status = state.status;\n    var isInitializing = status === \"initializing\";\n    React.useEffect(function () {\n        if (isInitializing) {\n            synchronize(dispatch);\n        }\n    }, [dispatch, isInitializing]);\n    var isConnected = status === \"connected\";\n    React.useEffect(function () {\n        if (!isConnected)\n            return function () { };\n        var unsubscribe = subsribeToAccountsChanged(dispatch);\n        return unsubscribe;\n    }, [dispatch, isConnected]);\n    var isAvailable = status !== \"unavailable\" && status !== \"initializing\";\n    React.useEffect(function () {\n        if (!isAvailable)\n            return function () { };\n        var unsubscribe = subscribeToChainChanged(dispatch);\n        return unsubscribe;\n    }, [dispatch, isAvailable]);\n    var connect = React.useCallback(function () {\n        if (!isAvailable) {\n            console.warn(\"`enable` method has been called while MetaMask is not available or synchronising. Nothing will be done in this case.\");\n            return Promise.resolve([]);\n        }\n        return requestAccounts(dispatch);\n    }, [dispatch, isAvailable]);\n    var addChain = React.useCallback(function (parameters) {\n        if (!isAvailable) {\n            console.warn(\"`addChain` method has been called while MetaMask is not available or synchronising. Nothing will be done in this case.\");\n            return Promise.resolve();\n        }\n        return addEthereumChain(parameters);\n    }, [isAvailable]);\n    var switchChain = React.useCallback(function (chainId) {\n        if (!isAvailable) {\n            console.warn(\"`switchChain` method has been called while MetaMask is not available or synchronising. Nothing will be done in this case.\");\n            return Promise.resolve();\n        }\n        return switchEthereumChain(chainId);\n    }, [isAvailable]);\n    var value = React.useMemo(function () { return (__assign(__assign({}, state), { connect: connect,\n        addChain: addChain,\n        switchChain: switchChain, ethereum: isAvailable\n            ? window.ethereum\n            : null })); }, [connect, addChain, switchChain, state, isAvailable]);\n    return jsx_runtime_1.jsx(metamask_context_1.MetamaskContext.Provider, __assign({ value: value }, props), void 0);\n}\nexports.MetaMaskProvider = MetaMaskProvider;\n"],"mappings":"AAAA,YAAY;;AACZ,IAAIA,QAAQ,GAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,IAAK,YAAY;EAClDA,QAAQ,GAAGC,MAAM,CAACC,MAAM,IAAI,UAASC,CAAC,EAAE;IACpC,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAII,CAAC,IAAIL,CAAC,EAAE,IAAIH,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAC3DN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IACnB;IACA,OAAON,CAAC;EACZ,CAAC;EACD,OAAOH,QAAQ,CAACa,KAAK,CAAC,IAAI,EAAEN,SAAS,CAAC;AAC1C,CAAC;AACD,IAAIO,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,KAAMb,MAAM,CAACc,MAAM,GAAI,UAASC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EAC5F,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5BjB,MAAM,CAACoB,cAAc,CAACL,CAAC,EAAEG,EAAE,EAAE;IAAEG,UAAU,EAAE,IAAI;IAAEC,GAAG,EAAE,YAAW;MAAE,OAAON,CAAC,CAACC,CAAC,CAAC;IAAE;EAAE,CAAC,CAAC;AACxF,CAAC,GAAK,UAASF,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EACxB,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5BF,CAAC,CAACG,EAAE,CAAC,GAAGF,CAAC,CAACC,CAAC,CAAC;AAChB,CAAE,CAAC;AACH,IAAIM,kBAAkB,GAAI,IAAI,IAAI,IAAI,CAACA,kBAAkB,KAAMvB,MAAM,CAACc,MAAM,GAAI,UAASC,CAAC,EAAES,CAAC,EAAE;EAC3FxB,MAAM,CAACoB,cAAc,CAACL,CAAC,EAAE,SAAS,EAAE;IAAEM,UAAU,EAAE,IAAI;IAAEI,KAAK,EAAED;EAAE,CAAC,CAAC;AACvE,CAAC,GAAI,UAAST,CAAC,EAAES,CAAC,EAAE;EAChBT,CAAC,CAAC,SAAS,CAAC,GAAGS,CAAC;AACpB,CAAC,CAAC;AACF,IAAIE,YAAY,GAAI,IAAI,IAAI,IAAI,CAACA,YAAY,IAAK,UAAUC,GAAG,EAAE;EAC7D,IAAIA,GAAG,IAAIA,GAAG,CAACC,UAAU,EAAE,OAAOD,GAAG;EACrC,IAAIE,MAAM,GAAG,CAAC,CAAC;EACf,IAAIF,GAAG,IAAI,IAAI,EAAE,KAAK,IAAIV,CAAC,IAAIU,GAAG,EAAE,IAAIV,CAAC,KAAK,SAAS,IAAIjB,MAAM,CAACS,SAAS,CAACC,cAAc,CAACC,IAAI,CAACgB,GAAG,EAAEV,CAAC,CAAC,EAAEJ,eAAe,CAACgB,MAAM,EAAEF,GAAG,EAAEV,CAAC,CAAC;EACxIM,kBAAkB,CAACM,MAAM,EAAEF,GAAG,CAAC;EAC/B,OAAOE,MAAM;AACjB,CAAC;AACD,IAAIC,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAK,UAAUC,OAAO,EAAEC,UAAU,EAAEC,CAAC,EAAEC,SAAS,EAAE;EACrF,SAASC,KAAK,CAACV,KAAK,EAAE;IAAE,OAAOA,KAAK,YAAYQ,CAAC,GAAGR,KAAK,GAAG,IAAIQ,CAAC,CAAC,UAAUG,OAAO,EAAE;MAAEA,OAAO,CAACX,KAAK,CAAC;IAAE,CAAC,CAAC;EAAE;EAC3G,OAAO,KAAKQ,CAAC,KAAKA,CAAC,GAAGI,OAAO,CAAC,EAAE,UAAUD,OAAO,EAAEE,MAAM,EAAE;IACvD,SAASC,SAAS,CAACd,KAAK,EAAE;MAAE,IAAI;QAAEe,IAAI,CAACN,SAAS,CAACO,IAAI,CAAChB,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOiB,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC1F,SAASC,QAAQ,CAAClB,KAAK,EAAE;MAAE,IAAI;QAAEe,IAAI,CAACN,SAAS,CAAC,OAAO,CAAC,CAACT,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOiB,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC7F,SAASF,IAAI,CAACX,MAAM,EAAE;MAAEA,MAAM,CAACe,IAAI,GAAGR,OAAO,CAACP,MAAM,CAACJ,KAAK,CAAC,GAAGU,KAAK,CAACN,MAAM,CAACJ,KAAK,CAAC,CAACoB,IAAI,CAACN,SAAS,EAAEI,QAAQ,CAAC;IAAE;IAC7GH,IAAI,CAAC,CAACN,SAAS,GAAGA,SAAS,CAACtB,KAAK,CAACmB,OAAO,EAAEC,UAAU,IAAI,EAAE,CAAC,EAAES,IAAI,EAAE,CAAC;EACzE,CAAC,CAAC;AACN,CAAC;AACD,IAAIK,WAAW,GAAI,IAAI,IAAI,IAAI,CAACA,WAAW,IAAK,UAAUf,OAAO,EAAEgB,IAAI,EAAE;EACrE,IAAIC,CAAC,GAAG;MAAEC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,YAAW;QAAE,IAAIhD,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAMA,CAAC,CAAC,CAAC,CAAC;QAAE,OAAOA,CAAC,CAAC,CAAC,CAAC;MAAE,CAAC;MAAEiD,IAAI,EAAE,EAAE;MAAEC,GAAG,EAAE;IAAG,CAAC;IAAEC,CAAC;IAAEC,CAAC;IAAEpD,CAAC;IAAEqD,CAAC;EAChH,OAAOA,CAAC,GAAG;IAAEd,IAAI,EAAEe,IAAI,CAAC,CAAC,CAAC;IAAE,OAAO,EAAEA,IAAI,CAAC,CAAC,CAAC;IAAE,QAAQ,EAAEA,IAAI,CAAC,CAAC;EAAE,CAAC,EAAE,OAAOC,MAAM,KAAK,UAAU,KAAKF,CAAC,CAACE,MAAM,CAACC,QAAQ,CAAC,GAAG,YAAW;IAAE,OAAO,IAAI;EAAE,CAAC,CAAC,EAAEH,CAAC;EACxJ,SAASC,IAAI,CAACnD,CAAC,EAAE;IAAE,OAAO,UAAUmB,CAAC,EAAE;MAAE,OAAOgB,IAAI,CAAC,CAACnC,CAAC,EAAEmB,CAAC,CAAC,CAAC;IAAE,CAAC;EAAE;EACjE,SAASgB,IAAI,CAACmB,EAAE,EAAE;IACd,IAAIN,CAAC,EAAE,MAAM,IAAIO,SAAS,CAAC,iCAAiC,CAAC;IAC7D,OAAOZ,CAAC,EAAE,IAAI;MACV,IAAIK,CAAC,GAAG,CAAC,EAAEC,CAAC,KAAKpD,CAAC,GAAGyD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGL,CAAC,CAAC,QAAQ,CAAC,GAAGK,EAAE,CAAC,CAAC,CAAC,GAAGL,CAAC,CAAC,OAAO,CAAC,KAAK,CAACpD,CAAC,GAAGoD,CAAC,CAAC,QAAQ,CAAC,KAAKpD,CAAC,CAACS,IAAI,CAAC2C,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGA,CAAC,CAACb,IAAI,CAAC,IAAI,CAAC,CAACvC,CAAC,GAAGA,CAAC,CAACS,IAAI,CAAC2C,CAAC,EAAEK,EAAE,CAAC,CAAC,CAAC,CAAC,EAAEf,IAAI,EAAE,OAAO1C,CAAC;MAC5J,IAAIoD,CAAC,GAAG,CAAC,EAAEpD,CAAC,EAAEyD,EAAE,GAAG,CAACA,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAEzD,CAAC,CAACuB,KAAK,CAAC;MACvC,QAAQkC,EAAE,CAAC,CAAC,CAAC;QACT,KAAK,CAAC;QAAE,KAAK,CAAC;UAAEzD,CAAC,GAAGyD,EAAE;UAAE;QACxB,KAAK,CAAC;UAAEX,CAAC,CAACC,KAAK,EAAE;UAAE,OAAO;YAAExB,KAAK,EAAEkC,EAAE,CAAC,CAAC,CAAC;YAAEf,IAAI,EAAE;UAAM,CAAC;QACvD,KAAK,CAAC;UAAEI,CAAC,CAACC,KAAK,EAAE;UAAEK,CAAC,GAAGK,EAAE,CAAC,CAAC,CAAC;UAAEA,EAAE,GAAG,CAAC,CAAC,CAAC;UAAE;QACxC,KAAK,CAAC;UAAEA,EAAE,GAAGX,CAAC,CAACI,GAAG,CAACS,GAAG,EAAE;UAAEb,CAAC,CAACG,IAAI,CAACU,GAAG,EAAE;UAAE;QACxC;UACI,IAAI,EAAE3D,CAAC,GAAG8C,CAAC,CAACG,IAAI,EAAEjD,CAAC,GAAGA,CAAC,CAACK,MAAM,GAAG,CAAC,IAAIL,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,CAAC,KAAKoD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;YAAEX,CAAC,GAAG,CAAC;YAAE;UAAU;UAC3G,IAAIW,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAACzD,CAAC,IAAKyD,EAAE,CAAC,CAAC,CAAC,GAAGzD,CAAC,CAAC,CAAC,CAAC,IAAIyD,EAAE,CAAC,CAAC,CAAC,GAAGzD,CAAC,CAAC,CAAC,CAAE,CAAC,EAAE;YAAE8C,CAAC,CAACC,KAAK,GAAGU,EAAE,CAAC,CAAC,CAAC;YAAE;UAAO;UACrF,IAAIA,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIX,CAAC,CAACC,KAAK,GAAG/C,CAAC,CAAC,CAAC,CAAC,EAAE;YAAE8C,CAAC,CAACC,KAAK,GAAG/C,CAAC,CAAC,CAAC,CAAC;YAAEA,CAAC,GAAGyD,EAAE;YAAE;UAAO;UACpE,IAAIzD,CAAC,IAAI8C,CAAC,CAACC,KAAK,GAAG/C,CAAC,CAAC,CAAC,CAAC,EAAE;YAAE8C,CAAC,CAACC,KAAK,GAAG/C,CAAC,CAAC,CAAC,CAAC;YAAE8C,CAAC,CAACI,GAAG,CAACU,IAAI,CAACH,EAAE,CAAC;YAAE;UAAO;UAClE,IAAIzD,CAAC,CAAC,CAAC,CAAC,EAAE8C,CAAC,CAACI,GAAG,CAACS,GAAG,EAAE;UACrBb,CAAC,CAACG,IAAI,CAACU,GAAG,EAAE;UAAE;MAAS;MAE/BF,EAAE,GAAGZ,IAAI,CAACpC,IAAI,CAACoB,OAAO,EAAEiB,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAON,CAAC,EAAE;MAAEiB,EAAE,GAAG,CAAC,CAAC,EAAEjB,CAAC,CAAC;MAAEY,CAAC,GAAG,CAAC;IAAE,CAAC,SAAS;MAAED,CAAC,GAAGnD,CAAC,GAAG,CAAC;IAAE;IACzD,IAAIyD,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAMA,EAAE,CAAC,CAAC,CAAC;IAAE,OAAO;MAAElC,KAAK,EAAEkC,EAAE,CAAC,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;MAAEf,IAAI,EAAE;IAAK,CAAC;EACpF;AACJ,CAAC;AACD5C,MAAM,CAACoB,cAAc,CAAC2C,OAAO,EAAE,YAAY,EAAE;EAAEtC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DsC,OAAO,CAACC,gBAAgB,GAAG,KAAK,CAAC;AACjC,IAAIC,aAAa,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAChD,IAAIC,KAAK,GAAGzC,YAAY,CAACwC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC1C,IAAIE,kBAAkB,GAAGF,OAAO,CAAC,oBAAoB,CAAC;AACtD,IAAIG,SAAS,GAAGH,OAAO,CAAC,WAAW,CAAC;AACpC,IAAII,iBAAiB,GAAGJ,OAAO,CAAC,yBAAyB,CAAC;AAC1D;AACA,IAAIK,0BAA0B,GAAG,CAAC,KAAK;AACvC,SAASC,WAAW,CAACC,QAAQ,EAAE;EAC3B,OAAO3C,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;IAC/C,IAAI4C,QAAQ,EAAEC,mBAAmB,EAAEC,OAAO,EAAEC,kBAAkB;IAC9D,OAAO/B,WAAW,CAAC,IAAI,EAAE,UAAUgC,EAAE,EAAE;MACnC,QAAQA,EAAE,CAAC7B,KAAK;QACZ,KAAK,CAAC;UACFyB,QAAQ,GAAGK,MAAM,CAACL,QAAQ;UAC1BC,mBAAmB,GAAGK,OAAO,CAACN,QAAQ,CAAC,IAAIA,QAAQ,CAACO,UAAU;UAC9D,IAAI,CAACN,mBAAmB,EAAE;YACtBF,QAAQ,CAAC;cAAES,IAAI,EAAE;YAAsB,CAAC,CAAC;YACzC,OAAO,CAAC,CAAC,CAAC,WAAW;UACzB;;UACA,OAAO,CAAC,CAAC,CAAC,WAAWR,QAAQ,CAACS,OAAO,CAAC;YAC9BC,MAAM,EAAE;UACZ,CAAC,CAAC,CAAC;QACX,KAAK,CAAC;UACFR,OAAO,GAAGE,EAAE,CAAC5B,IAAI,EAAE;UACnB,OAAO,CAAC,CAAC,CAAC,WAAWwB,QAAQ,CAACS,OAAO,CAAC;YAC9BC,MAAM,EAAE;UACZ,CAAC,CAAC,CAAC;QACX,KAAK,CAAC;UACFP,kBAAkB,GAAGC,EAAE,CAAC5B,IAAI,EAAE;UAC9B,IAAI2B,kBAAkB,CAACtE,MAAM,KAAK,CAAC,EAAE;YACjCkE,QAAQ,CAAC;cAAES,IAAI,EAAE,sBAAsB;cAAEG,OAAO,EAAE;gBAAET,OAAO,EAAEA;cAAQ;YAAE,CAAC,CAAC;UAC7E,CAAC,MACI;YACDH,QAAQ,CAAC;cACLS,IAAI,EAAE,mBAAmB;cACzBG,OAAO,EAAE;gBAAEC,QAAQ,EAAET,kBAAkB;gBAAED,OAAO,EAAEA;cAAQ;YAC9D,CAAC,CAAC;UACN;UACA,OAAO,CAAC,CAAC,CAAC,WAAW;MAAC;IAElC,CAAC,CAAC;EACN,CAAC,CAAC;AACN;;AACA,SAASW,yBAAyB,CAACd,QAAQ,EAAE;EACzC,IAAIC,QAAQ,GAAGK,MAAM,CAACL,QAAQ;EAC9B,IAAIc,iBAAiB,GAAG,UAAUF,QAAQ,EAAE;IACxC,OAAOb,QAAQ,CAAC;MAAES,IAAI,EAAE,yBAAyB;MAAEG,OAAO,EAAEC;IAAS,CAAC,CAAC;EAC3E,CAAC;EACDZ,QAAQ,CAACe,EAAE,CAAC,iBAAiB,EAAED,iBAAiB,CAAC;EACjD,OAAO,YAAY;IACfd,QAAQ,CAACgB,cAAc,CAAC,iBAAiB,EAAEF,iBAAiB,CAAC;EACjE,CAAC;AACL;AACA,SAASG,uBAAuB,CAAClB,QAAQ,EAAE;EACvC,IAAIC,QAAQ,GAAGK,MAAM,CAACL,QAAQ;EAC9B,IAAIkB,cAAc,GAAG,UAAUhB,OAAO,EAAE;IACpC,OAAOH,QAAQ,CAAC;MAAES,IAAI,EAAE,sBAAsB;MAAEG,OAAO,EAAET;IAAQ,CAAC,CAAC;EACvE,CAAC;EACDF,QAAQ,CAACe,EAAE,CAAC,cAAc,EAAEG,cAAc,CAAC;EAC3C,OAAO,YAAY;IACflB,QAAQ,CAACgB,cAAc,CAAC,cAAc,EAAEE,cAAc,CAAC;EAC3D,CAAC;AACL;AACA,SAASC,eAAe,CAACpB,QAAQ,EAAE;EAC/B,IAAIqB,KAAK,GAAG,IAAI;EAChB,IAAIpB,QAAQ,GAAGK,MAAM,CAACL,QAAQ;EAC9BD,QAAQ,CAAC;IAAES,IAAI,EAAE;EAAqB,CAAC,CAAC;EACxC;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,OAAO,IAAI7C,OAAO,CAAC,UAAUD,OAAO,EAAEE,MAAM,EAAE;IAC1C,IAAIyD,UAAU,GAAGC,WAAW,CAAC,YAAY;MAAE,OAAOlE,SAAS,CAACgE,KAAK,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;QAC3F,IAAIR,QAAQ,EAAEV,OAAO;QACrB,OAAO9B,WAAW,CAAC,IAAI,EAAE,UAAUgC,EAAE,EAAE;UACnC,QAAQA,EAAE,CAAC7B,KAAK;YACZ,KAAK,CAAC;cAAE,OAAO,CAAC,CAAC,CAAC,WAAWyB,QAAQ,CAACS,OAAO,CAAC;gBACtCC,MAAM,EAAE;cACZ,CAAC,CAAC,CAAC;YACP,KAAK,CAAC;cACFE,QAAQ,GAAGR,EAAE,CAAC5B,IAAI,EAAE;cACpB,IAAIoC,QAAQ,CAAC/E,MAAM,KAAK,CAAC,EACrB,OAAO,CAAC,CAAC,CAAC,WAAW;cACzB0F,aAAa,CAACF,UAAU,CAAC;cACzB,OAAO,CAAC,CAAC,CAAC,WAAWrB,QAAQ,CAACS,OAAO,CAAC;gBAC9BC,MAAM,EAAE;cACZ,CAAC,CAAC,CAAC;YACX,KAAK,CAAC;cACFR,OAAO,GAAGE,EAAE,CAAC5B,IAAI,EAAE;cACnBuB,QAAQ,CAAC;gBAAES,IAAI,EAAE,mBAAmB;gBAAEG,OAAO,EAAE;kBAAEC,QAAQ,EAAEA,QAAQ;kBAAEV,OAAO,EAAEA;gBAAQ;cAAE,CAAC,CAAC;cAC1FxC,OAAO,CAACkD,QAAQ,CAAC;cACjB,OAAO,CAAC,CAAC,CAAC,WAAW;UAAC;QAElC,CAAC,CAAC;MACN,CAAC,CAAC;IAAE,CAAC,EAAE,GAAG,CAAC;IACXZ,QAAQ,CACHS,OAAO,CAAC;MACTC,MAAM,EAAE;IACZ,CAAC,CAAC,CACGvC,IAAI,CAAC,UAAUyC,QAAQ,EAAE;MAAE,OAAOxD,SAAS,CAACgE,KAAK,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;QAChF,IAAIlB,OAAO;QACX,OAAO9B,WAAW,CAAC,IAAI,EAAE,UAAUgC,EAAE,EAAE;UACnC,QAAQA,EAAE,CAAC7B,KAAK;YACZ,KAAK,CAAC;cACFgD,aAAa,CAACF,UAAU,CAAC;cACzB,OAAO,CAAC,CAAC,CAAC,WAAWrB,QAAQ,CAACS,OAAO,CAAC;gBAC9BC,MAAM,EAAE;cACZ,CAAC,CAAC,CAAC;YACX,KAAK,CAAC;cACFR,OAAO,GAAGE,EAAE,CAAC5B,IAAI,EAAE;cACnBuB,QAAQ,CAAC;gBAAES,IAAI,EAAE,mBAAmB;gBAAEG,OAAO,EAAE;kBAAEC,QAAQ,EAAEA,QAAQ;kBAAEV,OAAO,EAAEA;gBAAQ;cAAE,CAAC,CAAC;cAC1FxC,OAAO,CAACkD,QAAQ,CAAC;cACjB,OAAO,CAAC,CAAC,CAAC,WAAW;UAAC;QAElC,CAAC,CAAC;MACN,CAAC,CAAC;IAAE,CAAC,CAAC,CACDY,KAAK,CAAC,UAAUC,GAAG,EAAE;MACtB,IAAI,MAAM,IAAIA,GAAG,EAAE;QACf,IAAIA,GAAG,CAACC,IAAI,KAAK7B,0BAA0B,EACvC;MACR;MACAE,QAAQ,CAAC;QAAES,IAAI,EAAE;MAA6B,CAAC,CAAC;MAChDe,aAAa,CAACF,UAAU,CAAC;MACzBzD,MAAM,CAAC6D,GAAG,CAAC;IACf,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AACA,SAASE,gBAAgB,CAACC,UAAU,EAAE;EAClC,OAAOxE,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;IAC/C,IAAI4C,QAAQ,EAAE6B,KAAK;IACnB,OAAOzD,WAAW,CAAC,IAAI,EAAE,UAAUgC,EAAE,EAAE;MACnC,QAAQA,EAAE,CAAC7B,KAAK;QACZ,KAAK,CAAC;UACFyB,QAAQ,GAAGK,MAAM,CAACL,QAAQ;UAC1BI,EAAE,CAAC7B,KAAK,GAAG,CAAC;QAChB,KAAK,CAAC;UACF6B,EAAE,CAAC3B,IAAI,CAACW,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAI,CAAC,CAAC,CAAC;UACzB,OAAO,CAAC,CAAC,CAAC,WAAWY,QAAQ,CAACS,OAAO,CAAC;YAC9BC,MAAM,EAAE,yBAAyB;YACjCoB,MAAM,EAAE,CAACF,UAAU;UACvB,CAAC,CAAC,CAAC;QACX,KAAK,CAAC;UACFxB,EAAE,CAAC5B,IAAI,EAAE;UACT,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QAC3B,KAAK,CAAC;UACFqD,KAAK,GAAGzB,EAAE,CAAC5B,IAAI,EAAE;UACjB,IAAI,MAAM,IAAIqD,KAAK,EAAE;YACjB,IAAIA,KAAK,CAACH,IAAI,KAAK7B,0BAA0B,EACzC,OAAO,CAAC,CAAC,CAAC,WAAW;UAC7B;;UACA,MAAMgC,KAAK;QACf,KAAK,CAAC;UAAE,OAAO,CAAC,CAAC,CAAC,WAAW;MAAC;IAEtC,CAAC,CAAC;EACN,CAAC,CAAC;AACN;;AACA,SAASE,mBAAmB,CAAC7B,OAAO,EAAE;EAClC,OAAO9C,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;IAC/C,IAAI4C,QAAQ,EAAEgC,KAAK;IACnB,OAAO5D,WAAW,CAAC,IAAI,EAAE,UAAUgC,EAAE,EAAE;MACnC,QAAQA,EAAE,CAAC7B,KAAK;QACZ,KAAK,CAAC;UACFyB,QAAQ,GAAGK,MAAM,CAACL,QAAQ;UAC1BI,EAAE,CAAC7B,KAAK,GAAG,CAAC;QAChB,KAAK,CAAC;UACF6B,EAAE,CAAC3B,IAAI,CAACW,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,GAAI,CAAC,CAAC,CAAC;UACzB,OAAO,CAAC,CAAC,CAAC,WAAWY,QAAQ,CAACS,OAAO,CAAC;YAC9BC,MAAM,EAAE,4BAA4B;YACpCoB,MAAM,EAAE,CAAC;cAAE5B,OAAO,EAAEA;YAAQ,CAAC;UACjC,CAAC,CAAC,CAAC;QACX,KAAK,CAAC;UACFE,EAAE,CAAC5B,IAAI,EAAE;UACT,OAAO,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;QAC3B,KAAK,CAAC;UACFwD,KAAK,GAAG5B,EAAE,CAAC5B,IAAI,EAAE;UACjB,IAAI,MAAM,IAAIwD,KAAK,EAAE;YACjB,IAAIA,KAAK,CAACN,IAAI,KAAK7B,0BAA0B,EACzC,OAAO,CAAC,CAAC,CAAC,WAAW;UAC7B;;UACA,MAAMmC,KAAK;QACf,KAAK,CAAC;UAAE,OAAO,CAAC,CAAC,CAAC,WAAW;MAAC;IAEtC,CAAC,CAAC;EACN,CAAC,CAAC;AACN;;AACA,IAAIC,YAAY,GAAG;EACfC,MAAM,EAAE,cAAc;EACtBC,OAAO,EAAE,IAAI;EACbjC,OAAO,EAAE;AACb,CAAC;AACD,SAASZ,gBAAgB,CAAC8C,KAAK,EAAE;EAC7B,IAAIhC,EAAE,GAAGX,KAAK,CAAC4C,UAAU,CAAC1C,SAAS,CAAC2C,OAAO,EAAEL,YAAY,CAAC;IAAEM,KAAK,GAAGnC,EAAE,CAAC,CAAC,CAAC;IAAEoC,cAAc,GAAGpC,EAAE,CAAC,CAAC,CAAC;EACjG,IAAIL,QAAQ,GAAGH,iBAAiB,CAAC6C,eAAe,CAACD,cAAc,CAAC;EAChE,IAAIN,MAAM,GAAGK,KAAK,CAACL,MAAM;EACzB,IAAIQ,cAAc,GAAGR,MAAM,KAAK,cAAc;EAC9CzC,KAAK,CAACkD,SAAS,CAAC,YAAY;IACxB,IAAID,cAAc,EAAE;MAChB5C,WAAW,CAACC,QAAQ,CAAC;IACzB;EACJ,CAAC,EAAE,CAACA,QAAQ,EAAE2C,cAAc,CAAC,CAAC;EAC9B,IAAIE,WAAW,GAAGV,MAAM,KAAK,WAAW;EACxCzC,KAAK,CAACkD,SAAS,CAAC,YAAY;IACxB,IAAI,CAACC,WAAW,EACZ,OAAO,YAAY,CAAE,CAAC;IAC1B,IAAIC,WAAW,GAAGhC,yBAAyB,CAACd,QAAQ,CAAC;IACrD,OAAO8C,WAAW;EACtB,CAAC,EAAE,CAAC9C,QAAQ,EAAE6C,WAAW,CAAC,CAAC;EAC3B,IAAIE,WAAW,GAAGZ,MAAM,KAAK,aAAa,IAAIA,MAAM,KAAK,cAAc;EACvEzC,KAAK,CAACkD,SAAS,CAAC,YAAY;IACxB,IAAI,CAACG,WAAW,EACZ,OAAO,YAAY,CAAE,CAAC;IAC1B,IAAID,WAAW,GAAG5B,uBAAuB,CAAClB,QAAQ,CAAC;IACnD,OAAO8C,WAAW;EACtB,CAAC,EAAE,CAAC9C,QAAQ,EAAE+C,WAAW,CAAC,CAAC;EAC3B,IAAIC,OAAO,GAAGtD,KAAK,CAACuD,WAAW,CAAC,YAAY;IACxC,IAAI,CAACF,WAAW,EAAE;MACdG,OAAO,CAACC,IAAI,CAAC,sHAAsH,CAAC;MACpI,OAAOvF,OAAO,CAACD,OAAO,CAAC,EAAE,CAAC;IAC9B;IACA,OAAOyD,eAAe,CAACpB,QAAQ,CAAC;EACpC,CAAC,EAAE,CAACA,QAAQ,EAAE+C,WAAW,CAAC,CAAC;EAC3B,IAAIK,QAAQ,GAAG1D,KAAK,CAACuD,WAAW,CAAC,UAAUpB,UAAU,EAAE;IACnD,IAAI,CAACkB,WAAW,EAAE;MACdG,OAAO,CAACC,IAAI,CAAC,wHAAwH,CAAC;MACtI,OAAOvF,OAAO,CAACD,OAAO,EAAE;IAC5B;IACA,OAAOiE,gBAAgB,CAACC,UAAU,CAAC;EACvC,CAAC,EAAE,CAACkB,WAAW,CAAC,CAAC;EACjB,IAAIM,WAAW,GAAG3D,KAAK,CAACuD,WAAW,CAAC,UAAU9C,OAAO,EAAE;IACnD,IAAI,CAAC4C,WAAW,EAAE;MACdG,OAAO,CAACC,IAAI,CAAC,2HAA2H,CAAC;MACzI,OAAOvF,OAAO,CAACD,OAAO,EAAE;IAC5B;IACA,OAAOqE,mBAAmB,CAAC7B,OAAO,CAAC;EACvC,CAAC,EAAE,CAAC4C,WAAW,CAAC,CAAC;EACjB,IAAI/F,KAAK,GAAG0C,KAAK,CAAC4D,OAAO,CAAC,YAAY;IAAE,OAAQhI,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEkH,KAAK,CAAC,EAAE;MAAEQ,OAAO,EAAEA,OAAO;MAC5FI,QAAQ,EAAEA,QAAQ;MAClBC,WAAW,EAAEA,WAAW;MAAEpD,QAAQ,EAAE8C,WAAW,GACzCzC,MAAM,CAACL,QAAQ,GACf;IAAK,CAAC,CAAC;EAAG,CAAC,EAAE,CAAC+C,OAAO,EAAEI,QAAQ,EAAEC,WAAW,EAAEb,KAAK,EAAEO,WAAW,CAAC,CAAC;EAC5E,OAAOvD,aAAa,CAAC+D,GAAG,CAAC5D,kBAAkB,CAAC6D,eAAe,CAACC,QAAQ,EAAEnI,QAAQ,CAAC;IAAE0B,KAAK,EAAEA;EAAM,CAAC,EAAEqF,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC;AACpH;AACA/C,OAAO,CAACC,gBAAgB,GAAGA,gBAAgB"},"metadata":{},"sourceType":"script","externalDependencies":[]}